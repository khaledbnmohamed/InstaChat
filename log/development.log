Started GET "/" for 192.168.16.1 at 2021-03-08 20:11:41 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:18:50 +0000
  
Mysql2::Error::ConnectionError (Access denied for user 'instachat'@'192.168.16.5' (using password: YES)):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:18:51 +0000
  
Mysql2::Error::ConnectionError (Access denied for user 'instachat'@'192.168.16.5' (using password: YES)):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:25:26 +0000
  
Mysql2::Error::ConnectionError (Plugin sha256_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/sha256_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:27:35 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:27:36 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:28:24 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.80.1 at 2021-03-08 21:09:56 +0000
  [1m[35m (1.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for 192.168.80.1 at 2021-03-08 21:10:01 +0000
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (28.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateAdminUsers (20200427232145)
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE `admin_users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admin_users_on_email`  ON `admin_users` (`email`) [0m
  [1m[35m (21.3ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admin_users_on_reset_password_token`  ON `admin_users` (`reset_password_token`) [0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200427232145')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEmployees (20200504002346)
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE `employees` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `mobile` varchar(255) NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordDigestToEmployees (20200505110546)
  [1m[35m (35.9ms)[0m  [1m[35mALTER TABLE `employees` ADD `password_digest` varchar(255)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200505110546')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToEmployees (20200506091903)
  [1m[35m (17.2ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_employees_on_email`  ON `employees` (`email`) [0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_employees_on_mobile`  ON `employees` (`mobile`) [0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200506091903')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `mobile` varchar(255) NOT NULL, `password_digest` varchar(255) NOT NULL, `primary_address` varchar(255) NOT NULL, `location` varchar(255), `longitude` varchar(255), `latitude` varchar(255), `area` varchar(255), `neighborhood` varchar(255), `street` varchar(255), `secondary_address` varchar(255), `building_number` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-08 21:10:01.544198', '2021-03-08 21:10:01.544198')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
Started GET "/" for 192.168.80.1 at 2021-03-08 21:10:01 +0000
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.4ms | Allocations: 183)
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 3511)


  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (69.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_development`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (21.1ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `text` text NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `number` varchar(255) NOT NULL, `chats_counter` int DEFAULT 0, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-08 21:43:58.176267', '2021-03-08 21:43:58.176267')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:51:42 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
NoMethodError (undefined method `has_reference' for #<Class:0x00007f8c74cb6210>
Did you mean?  references):
  
app/models/application.rb:13:in `<class:Application>'
app/models/application.rb:12:in `<main>'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:53:35 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 10000)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:10 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5499)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:28 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5499)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:43 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 5493)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:11 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '3977713052' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '3977713052', '2021-03-08 21:55:11.704772', '2021-03-08 21:55:11.704772')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 92ms (Views: 0.3ms | ActiveRecord: 14.5ms | Allocations: 13741)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:18 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '5690559188' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '5690559188', '2021-03-08 21:55:18.649278', '2021-03-08 21:55:18.649278')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 7702)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:31 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2109197539' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (1.1ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2109197539', '2021-03-08 21:56:25.477798', '2021-03-08 21:56:25.477798')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 54495ms (Views: 1.1ms | ActiveRecord: 11.9ms | Allocations: 4899618)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:56:33 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `create'
  [1m[36mApplication Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2532125851' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.8ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2532125851', '2021-03-08 21:56:42.346084', '2021-03-08 21:56:42.346084')[0m
  ↳ (byebug):1:in `create'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '1311952561' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (1.1ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '1311952561', '2021-03-08 21:57:03.561561', '2021-03-08 21:57:03.561561')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 30510ms (Views: 0.4ms | ActiveRecord: 17.0ms | Allocations: 15279)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:57:25 +0000
  
SyntaxError (/home/instachat/instachat/app/controllers/application_controller.rb:10: syntax error, unexpected `end'
  end
  ^~~
):
  
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/api/base_controller.rb:2:in `<module:Api>'
app/controllers/api/base_controller.rb:1:in `<main>'
app/controllers/api/v1/applications_controller.rb:2:in `<module:V1>'
app/controllers/api/v1/applications_controller.rb:1:in `<main>'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:57:44 +0000
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:58:49 +0000
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2567382613' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2567382613', '2021-03-08 21:58:50.050542', '2021-03-08 21:58:50.050542')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 10781)


Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:59:41 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"app 7"}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.4ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('app 7', '9572947751', '2021-03-08 21:59:41.653026', '2021-03-08 21:59:41.653026')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 9695)


Started POST "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:04:20 +0000
  
ActionController::RoutingError (No route matches [POST] "/api/v1/applications/9572947751"):
  
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:04:26 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
Completed 401 Unauthorized in 6ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1217)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:05:03 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined local variable or method `application' for #<Api::V1::ApplicationsController:0x00007f9c54e20200>
Did you mean?  @application
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 271ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 162803)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:05:38 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined method `update' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 2679)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:00 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
When assigning attributes, you must pass a hash as an argument, Application passed.
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_assignment.rb:30:in `assign_attributes'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/persistence.rb:620:in `block in update'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:212:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/persistence.rb:619:in `update'
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 400 Bad Request in 17ms (Views: 0.8ms | ActiveRecord: 1.8ms | Allocations: 4729)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:13 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (1.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined local variable or method `application' for #<Api::V1::ApplicationsController:0x00007f9c58164530>
Did you mean?  @application
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 409ms (Views: 0.7ms | ActiveRecord: 5.0ms | Allocations: 165731)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:28 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :number attribute in Application model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from update at /home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = BINARY '9572947751' AND `applications`.`id` != 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'app 7 edited', `applications`.`updated_at` = '2021-03-08 22:06:28.220109' WHERE `applications`.`id` = 7[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
Api::V1::ApplicationsController
/bundle/ruby/2.7.0/gems/pundit-2.1.0/lib/pundit.rb:192:in `verify_authorized'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:238:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 32ms (Views: 0.2ms | ActiveRecord: 7.7ms | Allocations: 10790)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:07:07 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :number attribute in Application model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from update at /home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = BINARY '9572947751' AND `applications`.`id` != 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 7258)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateChats (20210308222418)
  [1m[35m (31.2ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `number` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_chats_on_application_id`  (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308222418')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:35:14 +0000
  
SyntaxError (/home/instachat/instachat/config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input):
  
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:35:31 +0000
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
uninitialized constant Api::V1::ChatsController::Applicaiton
Did you mean?  Application
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:48:in `set_application'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:201:in `block in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `block in invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:134:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 3585)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:00 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:48:in `set_application'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:22:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 3582)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:13 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:22:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 29763ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 54485)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:54 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '256651156' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (7, '256651156', '2021-03-08 22:37:02.487551', '2021-03-08 22:37:02.487551')[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
undefined method `application' for #<Chat:0x0000560a778c9560>
Did you mean?  application_id
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:12:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:26:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7692ms (Views: 0.8ms | ActiveRecord: 11.9ms | Allocations: 17012)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:38:17 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (7, '2644241811', '2021-03-08 22:38:19.367131', '2021-03-08 22:38:19.367131')[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
Completed 200 OK in 1734ms (Views: 0.1ms | ActiveRecord: 8.5ms | Allocations: 19773)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddReferenceToChat (20210308224009)
  [1m[35m (65.1ms)[0m  [1m[35mALTER TABLE `messages` ADD `chat_id` bigint[0m
  [1m[35m (24.7ms)[0m  [1m[35mCREATE  INDEX `index_messages_on_chat_id`  ON `messages` (`chat_id`) [0m
  [1m[35m (55.1ms)[0m  [1m[35mALTER TABLE `messages` ADD CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308224009')[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:09 +0000
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 17ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 4532)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:32 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 4321)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:56 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 55770ms (Views: 0.9ms | ActiveRecord: 2.9ms | Allocations: 11350)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:49:59 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 18115ms (Views: 0.8ms | ActiveRecord: 4.5ms | Allocations: 8279)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:50:59 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `number' for #<Message:0x0000560a776b7a88>
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:150:in `block in validate'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:149:in `each'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:149:in `validate'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:605:in `block (2 levels) in default_terminator'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:604:in `catch'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:604:in `block in default_terminator'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:201:in `block in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `block in invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:134:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:825:in `_run_validate_callbacks'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations.rb:406:in `run_validations!'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations/callbacks.rb:117:in `block in run_validations!'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:825:in `_run_validation_callbacks'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations/callbacks.rb:117:in `run_validations!'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations.rb:337:in `valid?'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:68:in `valid?'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:84:in `perform_validations'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:47:in `save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:314:in `block in save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:212:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:314:in `save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/suppressor.rb:44:in `save'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:25:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7658ms (Views: 1.5ms | ActiveRecord: 3.1ms | Allocations: 13374)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:51:31 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('first message', '2021-03-08 22:51:33.643053', '2021-03-08 22:51:33.643053', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
undefined method `number' for #<Message:0x00007f9c54c2cac0>
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:29:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 1976ms (Views: 0.8ms | ActiveRecord: 11.2ms | Allocations: 16678)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:51:58 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('first message', '2021-03-08 22:51:59.987898', '2021-03-08 22:51:59.987898', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:29:in `create'
Completed 200 OK in 1529ms (Views: 0.1ms | ActiveRecord: 13.6ms | Allocations: 19344)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:52:16 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('3 message', '2021-03-08 22:52:18.466168', '2021-03-08 22:52:18.466168', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:29:in `create'
Completed 200 OK in 1539ms (Views: 0.3ms | ActiveRecord: 8.7ms | Allocations: 7440)


