Started GET "/" for 192.168.16.1 at 2021-03-08 20:11:41 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:18:50 +0000
  
Mysql2::Error::ConnectionError (Access denied for user 'instachat'@'192.168.16.5' (using password: YES)):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:18:51 +0000
  
Mysql2::Error::ConnectionError (Access denied for user 'instachat'@'192.168.16.5' (using password: YES)):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.16.1 at 2021-03-08 20:25:26 +0000
  
Mysql2::Error::ConnectionError (Plugin sha256_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/sha256_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:27:35 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:27:36 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.32.1 at 2021-03-08 20:28:24 +0000
  
Mysql2::Error::ConnectionError (Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory):
  
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/application.rb:90:in `initialize'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.3) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:887:in `new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:910:in `try_to_checkout_new_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:871:in `acquire_connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:593:in `checkout'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:437:in `connection'
activerecord (6.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:1119:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.3) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.3) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 192.168.80.1 at 2021-03-08 21:09:56 +0000
  [1m[35m (1.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_application'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for 192.168.80.1 at 2021-03-08 21:10:01 +0000
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (28.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateAdminUsers (20200427232145)
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE `admin_users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admin_users_on_email`  ON `admin_users` (`email`) [0m
  [1m[35m (21.3ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admin_users_on_reset_password_token`  ON `admin_users` (`reset_password_token`) [0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200427232145')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEmployees (20200504002346)
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE `employees` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `mobile` varchar(255) NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordDigestToEmployees (20200505110546)
  [1m[35m (35.9ms)[0m  [1m[35mALTER TABLE `employees` ADD `password_digest` varchar(255)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200505110546')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToEmployees (20200506091903)
  [1m[35m (17.2ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_employees_on_email`  ON `employees` (`email`) [0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_employees_on_mobile`  ON `employees` (`mobile`) [0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200506091903')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `mobile` varchar(255) NOT NULL, `password_digest` varchar(255) NOT NULL, `primary_address` varchar(255) NOT NULL, `location` varchar(255), `longitude` varchar(255), `latitude` varchar(255), `area` varchar(255), `neighborhood` varchar(255), `street` varchar(255), `secondary_address` varchar(255), `building_number` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-08 21:10:01.544198', '2021-03-08 21:10:01.544198')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
Started GET "/" for 192.168.80.1 at 2021-03-08 21:10:01 +0000
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.4ms | Allocations: 183)
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 3511)


  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (69.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_development`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (21.1ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `text` text NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `number` varchar(255) NOT NULL, `chats_counter` int DEFAULT 0, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-08 21:43:58.176267', '2021-03-08 21:43:58.176267')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:51:42 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
NoMethodError (undefined method `has_reference' for #<Class:0x00007f8c74cb6210>
Did you mean?  references):
  
app/models/application.rb:13:in `<class:Application>'
app/models/application.rb:12:in `<main>'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:53:35 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 10000)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:10 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5499)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:28 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5499)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started GET "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:54:43 +0000
Processing by Api::V1::ApplicationsController#index as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
No template found for Api::V1::ApplicationsController#index, rendering head :no_content
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms | Allocations: 5493)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:11 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '3977713052' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '3977713052', '2021-03-08 21:55:11.704772', '2021-03-08 21:55:11.704772')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 92ms (Views: 0.3ms | ActiveRecord: 14.5ms | Allocations: 13741)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:18 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '5690559188' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '5690559188', '2021-03-08 21:55:18.649278', '2021-03-08 21:55:18.649278')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 7702)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:55:31 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2109197539' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (1.1ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2109197539', '2021-03-08 21:56:25.477798', '2021-03-08 21:56:25.477798')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 54495ms (Views: 1.1ms | ActiveRecord: 11.9ms | Allocations: 4899618)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:56:33 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `create'
  [1m[36mApplication Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ (byebug):1:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2532125851' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.8ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2532125851', '2021-03-08 21:56:42.346084', '2021-03-08 21:56:42.346084')[0m
  ↳ (byebug):1:in `create'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '1311952561' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (1.1ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '1311952561', '2021-03-08 21:57:03.561561', '2021-03-08 21:57:03.561561')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
uninitialized constant ApplicationController::ActiveAdmin
Did you mean?  ActiveModel
/home/instachat/instachat/app/controllers/application_controller.rb:10:in `authentication_controller?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:437:in `block in inverted_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block (2 levels) in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `all?'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:237:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 30510ms (Views: 0.4ms | ActiveRecord: 17.0ms | Allocations: 15279)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:57:25 +0000
  
SyntaxError (/home/instachat/instachat/app/controllers/application_controller.rb:10: syntax error, unexpected `end'
  end
  ^~~
):
  
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/application_controller.rb:10: syntax error, unexpected `end'
app/controllers/api/base_controller.rb:2:in `<module:Api>'
app/controllers/api/base_controller.rb:1:in `<main>'
app/controllers/api/v1/applications_controller.rb:2:in `<module:V1>'
app/controllers/api/v1/applications_controller.rb:1:in `<main>'
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:57:44 +0000
Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:58:49 +0000
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"first_application"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2567382613' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('first_application', '2567382613', '2021-03-08 21:58:50.050542', '2021-03-08 21:58:50.050542')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 10781)


Started POST "/api/v1/applications" for 192.168.80.1 at 2021-03-08 21:59:41 +0000
Processing by Api::V1::ApplicationsController#create as */*
  Parameters: {"application"=>{"name"=>"app 7"}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[36mApplication Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mApplication Create (0.4ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('app 7', '9572947751', '2021-03-08 21:59:41.653026', '2021-03-08 21:59:41.653026')[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:25:in `create'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 9695)


Started POST "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:04:20 +0000
  
ActionController::RoutingError (No route matches [POST] "/api/v1/applications/9572947751"):
  
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.2) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.2) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.2) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:04:26 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
Completed 401 Unauthorized in 6ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1217)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:05:03 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined local variable or method `application' for #<Api::V1::ApplicationsController:0x00007f9c54e20200>
Did you mean?  @application
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 271ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 162803)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:05:38 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined method `update' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 2679)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:00 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
When assigning attributes, you must pass a hash as an argument, Application passed.
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_assignment.rb:30:in `assign_attributes'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/persistence.rb:620:in `block in update'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:212:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/persistence.rb:619:in `update'
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 400 Bad Request in 17ms (Views: 0.8ms | ActiveRecord: 1.8ms | Allocations: 4729)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:13 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (1.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
undefined local variable or method `application' for #<Api::V1::ApplicationsController:0x00007f9c58164530>
Did you mean?  @application
/home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31:in `update'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 409ms (Views: 0.7ms | ActiveRecord: 5.0ms | Allocations: 165731)


Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:06:28 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :number attribute in Application model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from update at /home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = BINARY '9572947751' AND `applications`.`id` != 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'app 7 edited', `applications`.`updated_at` = '2021-03-08 22:06:28.220109' WHERE `applications`.`id` = 7[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
Api::V1::ApplicationsController
/bundle/ruby/2.7.0/gems/pundit-2.1.0/lib/pundit.rb:192:in `verify_authorized'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:238:in `block in halting_and_conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 32ms (Views: 0.2ms | ActiveRecord: 7.7ms | Allocations: 10790)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
lib/errors/error_handler.rb:60:in `respond_backtrace'
lib/errors/error_handler.rb:10:in `block (2 levels) in included'
Started PUT "/api/v1/applications/9572947751" for 192.168.80.1 at 2021-03-08 22:07:07 +0000
Processing by Api::V1::ApplicationsController#update as */*
  Parameters: {"application"=>{"name"=>"app 7 edited"}, "id"=>"9572947751"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:46:in `set_application'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :number attribute in Application model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from update at /home/instachat/instachat/app/controllers/api/v1/applications_controller.rb:31)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[36mApplication Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = BINARY '9572947751' AND `applications`.`id` != 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/applications_controller.rb:31:in `update'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 7258)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateChats (20210308222418)
  [1m[35m (31.2ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `number` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_chats_on_application_id`  (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308222418')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:35:14 +0000
  
SyntaxError (/home/instachat/instachat/config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input):
  
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:27: syntax error, unexpected `end', expecting end-of-input
Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:35:31 +0000
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
uninitialized constant Api::V1::ChatsController::Applicaiton
Did you mean?  Application
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:48:in `set_application'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:201:in `block in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `block in invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:134:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 3585)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:00 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:48:in `set_application'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:22:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 3582)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:13 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:22:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 29763ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 54485)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:36:54 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '256651156' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (7, '256651156', '2021-03-08 22:37:02.487551', '2021-03-08 22:37:02.487551')[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
undefined method `application' for #<Chat:0x0000560a778c9560>
Did you mean?  application_id
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:12:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:26:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7692ms (Views: 0.8ms | ActiveRecord: 11.9ms | Allocations: 17012)


Started POST "/api/v1/applications/9572947751/chats" for 192.168.80.1 at 2021-03-08 22:38:17 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"9572947751"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '9572947751' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (7, '2644241811', '2021-03-08 22:38:19.367131', '2021-03-08 22:38:19.367131')[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/chats_controller.rb:24:in `create'
Completed 200 OK in 1734ms (Views: 0.1ms | ActiveRecord: 8.5ms | Allocations: 19773)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddReferenceToChat (20210308224009)
  [1m[35m (65.1ms)[0m  [1m[35mALTER TABLE `messages` ADD `chat_id` bigint[0m
  [1m[35m (24.7ms)[0m  [1m[35mCREATE  INDEX `index_messages_on_chat_id`  ON `messages` (`chat_id`) [0m
  [1m[35m (55.1ms)[0m  [1m[35mALTER TABLE `messages` ADD CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308224009')[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:09 +0000
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 17ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 4532)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:32 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 4321)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:48:56 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 55770ms (Views: 0.9ms | ActiveRecord: 2.9ms | Allocations: 11350)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:49:59 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `id' for nil:NilClass
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:23:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 18115ms (Views: 0.8ms | ActiveRecord: 4.5ms | Allocations: 8279)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:50:59 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
undefined method `number' for #<Message:0x0000560a776b7a88>
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:150:in `block in validate'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:149:in `each'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validator.rb:149:in `validate'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:605:in `block (2 levels) in default_terminator'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:604:in `catch'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:604:in `block in default_terminator'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:201:in `block in halting'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `block in invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:513:in `invoke_before'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:134:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:825:in `_run_validate_callbacks'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations.rb:406:in `run_validations!'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations/callbacks.rb:117:in `block in run_validations!'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:825:in `_run_validation_callbacks'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations/callbacks.rb:117:in `run_validations!'
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/validations.rb:337:in `valid?'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:68:in `valid?'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:84:in `perform_validations'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/validations.rb:47:in `save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:314:in `block in save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:212:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:314:in `save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/suppressor.rb:44:in `save'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:25:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7658ms (Views: 1.5ms | ActiveRecord: 3.1ms | Allocations: 13374)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:51:31 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('first message', '2021-03-08 22:51:33.643053', '2021-03-08 22:51:33.643053', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
undefined method `number' for #<Message:0x00007f9c54c2cac0>
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:29:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 1976ms (Views: 0.8ms | ActiveRecord: 11.2ms | Allocations: 16678)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:51:58 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"first message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('first message', '2021-03-08 22:51:59.987898', '2021-03-08 22:51:59.987898', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:29:in `create'
Completed 200 OK in 1529ms (Views: 0.1ms | ActiveRecord: 13.6ms | Allocations: 19344)


Started POST "/api/v1/applications/9572947751/chats/2644241811/messages" for 192.168.80.1 at 2021-03-08 22:52:16 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"9572947751", "chat_id"=>"2644241811"}
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '2644241811' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:52:in `set_chat'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('3 message', '2021-03-08 22:52:18.466168', '2021-03-08 22:52:18.466168', 2)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:25:in `create'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:29:in `create'
Completed 200 OK in 1539ms (Views: 0.3ms | ActiveRecord: 8.7ms | Allocations: 7440)


Started GET "/" for 192.168.80.1 at 2021-03-08 23:00:18 +0000
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.2ms | Allocations: 188)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3846)


  [1m[35m (14.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (76.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_development`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (23.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `text` text NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (22.3ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `number` varchar(255) NOT NULL, `chats_counter` int DEFAULT 0, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20210308222418)
  [1m[35m (27.6ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `number` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_chats_on_application_id`  (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308222418')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferenceToChat (20210308224009)
  [1m[35m (45.3ms)[0m  [1m[35mALTER TABLE `messages` ADD `chat_id` bigint[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE  INDEX `index_messages_on_chat_id`  ON `messages` (`chat_id`) [0m
  [1m[35m (66.4ms)[0m  [1m[35mALTER TABLE `messages` ADD CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308224009')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-10 04:46:27.695965', '2021-03-10 04:46:27.695965')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '4733930438' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('قد', '4733930438', '2021-03-10 04:46:46.398306', '2021-03-10 04:46:46.398306')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (4.8ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_counter` = COALESCE(`applications`.`chats_counter`, 0) + 1 WHERE `applications`.`id` = 1[0m
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '409479902' LIMIT 1[0m
  [1m[36mChat Create (1.0ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (1, '409479902', '2021-03-10 04:46:46.420702', '2021-03-10 04:46:46.420702')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '3828175153' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('ومدني،', '3828175153', '2021-03-10 04:47:05.568915', '2021-03-10 04:47:05.568915')[0m
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_counter` = COALESCE(`applications`.`chats_counter`, 0) + 1 WHERE `applications`.`id` = 2[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '7574764549' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (2, '7574764549', '2021-03-10 04:47:05.582133', '2021-03-10 04:47:05.582133')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '594680087' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('إذ', '594680087', '2021-03-10 04:47:10.988123', '2021-03-10 04:47:10.988123')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 3 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_counter` = COALESCE(`applications`.`chats_counter`, 0) + 1 WHERE `applications`.`id` = 3[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '4393888372' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (3, '4393888372', '2021-03-10 04:47:11.010851', '2021-03-10 04:47:11.010851')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 3 LIMIT 1 FOR UPDATE[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (49.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_development`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `instachat_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateMessages (20200504002346)
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `text` text NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200504002346')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateApplications (20201206130515)
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `number` varchar(255) NOT NULL, `chats_count` int DEFAULT 0, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201206130515')[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20210308222418)
  [1m[35m (24.5ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `number` varchar(255), `messages_count` int DEFAULT 0, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_chats_on_application_id`  (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308222418')[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferenceToChat (20210308224009)
  [1m[35m (42.6ms)[0m  [1m[35mALTER TABLE `messages` ADD `chat_id` bigint[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE  INDEX `index_messages_on_chat_id`  ON `messages` (`chat_id`) [0m
  [1m[35m (56.3ms)[0m  [1m[35mALTER TABLE `messages` ADD CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210308224009')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-03-10 04:48:53.665415', '2021-03-10 04:48:53.665415')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('اعتداء', '2163110743', '2021-03-10 04:49:01.238721', '2021-03-10 04:49:01.238721')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.8ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.8ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 1[0m
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  [1m[36mChat Create (0.9ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (1, '795430374', '2021-03-10 04:49:01.262078', '2021-03-10 04:49:01.262078')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Id fugiat ut sint nam quae vel doloribus ea.', '2021-03-10 04:49:01.279490', '2021-03-10 04:49:01.279490', 1)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2424252902' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('لعملة', '2424252902', '2021-03-10 04:59:32.465392', '2021-03-10 04:59:32.465392')[0m
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 2[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '866062832' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (2, '866062832', '2021-03-10 04:59:32.479106', '2021-03-10 04:59:32.479106')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 2 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 2[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Facilis autem odit hic possimus officia quas reprehenderit voluptatem.', '2021-03-10 04:59:32.486400', '2021-03-10 04:59:32.486400', 2)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '8109476057' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('دخول', '8109476057', '2021-03-10 05:01:18.336242', '2021-03-10 05:01:18.336242')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 3 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 3[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '2059034345' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (3, '2059034345', '2021-03-10 05:01:18.359690', '2021-03-10 05:01:18.359690')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 3 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 3[0m
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Pariatur eos est excepturi dignissimos officia quia.', '2021-03-10 05:01:18.367255', '2021-03-10 05:01:18.367255', 3)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2344707105' LIMIT 1[0m
  [1m[36mApplication Create (0.8ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('فبعد', '2344707105', '2021-03-10 05:06:51.911961', '2021-03-10 05:06:51.911961')[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.9ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 4 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (1.0ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 4[0m
  [1m[36mChat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '3188579335' LIMIT 1[0m
  [1m[36mChat Create (0.6ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (4, '3188579335', '2021-03-10 05:06:51.934778', '2021-03-10 05:06:51.934778')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.5ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 4[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Perspiciatis qui officiis atque ducimus.', '2021-03-10 05:06:51.948381', '2021-03-10 05:06:51.948381', 4)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '327175568' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('البشريةً', '327175568', '2021-03-10 05:11:00.757405', '2021-03-10 05:11:00.757405')[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 5 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 5[0m
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '5604403376' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (5, '5604403376', '2021-03-10 05:11:00.778328', '2021-03-10 05:11:00.778328')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 5 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 5[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Delectus mollitia in unde omnis officia illo vel voluptas.', '2021-03-10 05:11:00.787317', '2021-03-10 05:11:00.787317', 5)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '4680889337' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('يتمكن', '4680889337', '2021-03-10 05:28:13.657946', '2021-03-10 05:28:13.657946')[0m
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.5ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 6 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 6[0m
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '860206361' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (6, '860206361', '2021-03-10 05:28:13.679402', '2021-03-10 05:28:13.679402')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 6 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 6[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Voluptatibus sed dignissimos quos harum et rerum.', '2021-03-10 05:28:13.688000', '2021-03-10 05:28:13.688000', 6)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '6635815146' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('إستسلاماً', '6635815146', '2021-03-10 06:27:52.401587', '2021-03-10 06:27:52.401587')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 7 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 7[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '2840866450' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (7, '2840866450', '2021-03-10 06:27:52.412325', '2021-03-10 06:27:52.412325')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 7 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 7[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Laboriosam reiciendis aut facere facilis.', '2021-03-10 06:27:52.419574', '2021-03-10 06:27:52.419574', 7)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '8426052016' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('مع', '8426052016', '2021-03-10 06:31:13.375697', '2021-03-10 06:31:13.375697')[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 8 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 8[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '1472232544' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (8, '1472232544', '2021-03-10 06:31:13.389776', '2021-03-10 06:31:13.389776')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 8 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 8[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Numquam molestiae officia animi ut doloribus omnis quam.', '2021-03-10 06:31:13.397444', '2021-03-10 06:31:13.397444', 8)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '3205043035' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('بالعمل', '3205043035', '2021-03-10 06:32:35.426892', '2021-03-10 06:32:35.426892')[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.8ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 9 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.7ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 9[0m
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '4858504813' LIMIT 1[0m
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (9, '4858504813', '2021-03-10 06:32:35.447316', '2021-03-10 06:32:35.447316')[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.5ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 9 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 9[0m
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Nulla non accusamus sunt dolorem.', '2021-03-10 06:32:35.461227', '2021-03-10 06:32:35.461227', 9)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '7710947697' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('بل', '7710947697', '2021-03-10 06:40:20.929869', '2021-03-10 06:40:20.929869')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.2ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 10 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.2ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 10[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '5013146882' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (10, '5013146882', '2021-03-10 06:40:20.938477', '2021-03-10 06:40:20.938477')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 10 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 10[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Dolores ducimus aliquid minima est tempora voluptas aut.', '2021-03-10 06:40:20.945498', '2021-03-10 06:40:20.945498', 10)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '982184791' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('سقطت', '982184791', '2021-03-10 06:40:31.157047', '2021-03-10 06:40:31.157047')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 11 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 11[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '1272201656' LIMIT 1[0m
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (11, '1272201656', '2021-03-10 06:40:31.165965', '2021-03-10 06:40:31.165965')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 11[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Officiis nesciunt mollitia consectetur ea nulla.', '2021-03-10 06:40:31.173768', '2021-03-10 06:40:31.173768', 11)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '464635965' LIMIT 1[0m
  [1m[36mApplication Create (0.3ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('أوكيناوا', '464635965', '2021-03-10 06:41:37.007015', '2021-03-10 06:41:37.007015')[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.2ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 12 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.2ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 12[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '4247446798' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (12, '4247446798', '2021-03-10 06:41:37.018648', '2021-03-10 06:41:37.018648')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 12 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 12[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Qui et commodi cumque quisquam.', '2021-03-10 06:41:37.026617', '2021-03-10 06:41:37.026617', 12)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '7326965418' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('الأثناء،', '7326965418', '2021-03-10 06:41:51.745437', '2021-03-10 06:41:51.745437')[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.2ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 13 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.2ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 13[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '7019407283' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (13, '7019407283', '2021-03-10 06:41:51.758346', '2021-03-10 06:41:51.758346')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 13 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 13[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Quia repellendus et veniam quod.', '2021-03-10 06:41:51.765473', '2021-03-10 06:41:51.765473', 13)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '2650418029' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('بتطويق', '2650418029', '2021-03-10 06:42:54.828513', '2021-03-10 06:42:54.828513')[0m
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 14 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 14[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '5053381148' LIMIT 1[0m
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (14, '5053381148', '2021-03-10 06:42:54.841033', '2021-03-10 06:42:54.841033')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 14 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 14[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Vitae ut iste perspiciatis eum similique.', '2021-03-10 06:42:54.849317', '2021-03-10 06:42:54.849317', 14)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '9763459789' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('عقبت', '9763459789', '2021-03-10 06:43:23.325466', '2021-03-10 06:43:23.325466')[0m
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.5ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 15 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 15[0m
  [1m[36mChat Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '8621541308' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (15, '8621541308', '2021-03-10 06:43:23.341242', '2021-03-10 06:43:23.341242')[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 15 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 15[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Omnis cum accusantium qui corporis.', '2021-03-10 06:43:23.350330', '2021-03-10 06:43:23.350330', 15)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '6438286323' LIMIT 1[0m
  [1m[36mApplication Create (0.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('ولكسمبورغ', '6438286323', '2021-03-10 06:44:12.242251', '2021-03-10 06:44:12.242251')[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.9ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 16 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.9ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 16[0m
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '9339654300' LIMIT 1[0m
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (16, '9339654300', '2021-03-10 06:44:12.265567', '2021-03-10 06:44:12.265567')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 16 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 16[0m
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Accusamus non consequatur qui ut eligendi ut esse asperiores.', '2021-03-10 06:44:12.286136', '2021-03-10 06:44:12.286136', 16)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `messages`[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats`[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` ASC LIMIT 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.7ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Provident et a possimus adipisci vel tempore ut et.', '2021-03-10 06:51:30.040380', '2021-03-10 06:51:30.040380', 1)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Ex accusantium vel quo est.', '2021-03-10 06:51:30.157868', '2021-03-10 06:51:30.157868', 1)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Aut rerum qui eos doloremque provident quos.', '2021-03-10 06:51:30.254370', '2021-03-10 06:51:30.254370', 1)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.5ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Aut incidunt numquam voluptas est corrupti dolores.', '2021-03-10 06:51:30.360743', '2021-03-10 06:51:30.360743', 1)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Voluptatem suscipit quibusdam et consectetur.', '2021-03-10 06:51:30.476199', '2021-03-10 06:51:30.476199', 1)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.5ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Numquam inventore dolor vitae nisi vel ad.', '2021-03-10 06:51:30.583381', '2021-03-10 06:51:30.583381', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Est recusandae amet cum ut est.', '2021-03-10 06:51:30.706227', '2021-03-10 06:51:30.706227', 1)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Eos qui in nobis blanditiis saepe totam.', '2021-03-10 06:51:30.911648', '2021-03-10 06:51:30.911648', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Ipsa dicta qui at et aut et.', '2021-03-10 06:51:31.009168', '2021-03-10 06:51:31.009168', 1)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Iure autem et voluptas sit dolores.', '2021-03-10 06:51:31.076664', '2021-03-10 06:51:31.076664', 1)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.1ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Inventore voluptatem dignissimos aut sequi id molestiae.', '2021-03-10 06:51:31.702434', '2021-03-10 06:51:31.702434', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Rerum reprehenderit consequuntur enim rem nam aut qui saepe.', '2021-03-10 06:51:32.371591', '2021-03-10 06:51:32.371591', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Et doloribus voluptatem praesentium in suscipit voluptatem iure.', '2021-03-10 06:51:32.615092', '2021-03-10 06:51:32.615092', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Corrupti libero ab assumenda omnis ad fugiat.', '2021-03-10 06:51:32.697654', '2021-03-10 06:51:32.697654', 1)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.7ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Et aliquam voluptate eum sapiente sunt eos sequi.', '2021-03-10 06:51:32.778481', '2021-03-10 06:51:32.778481', 1)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.7ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Est nesciunt ut similique dolores placeat beatae.', '2021-03-10 06:51:32.867729', '2021-03-10 06:51:32.867729', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (3.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Aperiam voluptate eum commodi est laboriosam.', '2021-03-10 06:51:32.958922', '2021-03-10 06:51:32.958922', 1)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Voluptatibus qui libero hic dolorem incidunt maxime sunt quis.', '2021-03-10 06:51:33.042146', '2021-03-10 06:51:33.042146', 1)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Similique dolores voluptatem soluta esse vero id veritatis.', '2021-03-10 06:51:33.104171', '2021-03-10 06:51:33.104171', 1)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Iure officiis occaecati dolorum unde reiciendis blanditiis et error.', '2021-03-10 06:51:33.194492', '2021-03-10 06:51:33.194492', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Facilis qui hic modi quo autem.', '2021-03-10 06:51:33.287848', '2021-03-10 06:51:33.287848', 1)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.7ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Qui rerum dolorem error repellat et.', '2021-03-10 06:51:33.373470', '2021-03-10 06:51:33.373470', 1)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.1ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Harum est quidem totam quo voluptas tempore natus porro.', '2021-03-10 06:51:33.467750', '2021-03-10 06:51:33.467750', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Numquam placeat facilis enim et.', '2021-03-10 06:51:33.562863', '2021-03-10 06:51:33.562863', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Sit non consequatur veniam et aliquam.', '2021-03-10 06:51:33.653408', '2021-03-10 06:51:33.653408', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Rerum placeat libero voluptate hic a optio.', '2021-03-10 06:51:33.749536', '2021-03-10 06:51:33.749536', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Tempore et explicabo nesciunt corrupti.', '2021-03-10 06:51:33.844791', '2021-03-10 06:51:33.844791', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Recusandae eius ea neque sequi deleniti laudantium.', '2021-03-10 06:51:33.927890', '2021-03-10 06:51:33.927890', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Ut quis sint necessitatibus excepturi beatae officiis et blanditiis.', '2021-03-10 06:51:34.020512', '2021-03-10 06:51:34.020512', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Eius molestiae quod aut occaecati numquam dolorum harum.', '2021-03-10 06:51:34.110041', '2021-03-10 06:51:34.110041', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (4.1ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Nam aut sit voluptatem aspernatur eum sed laudantium cum.', '2021-03-10 06:51:34.216952', '2021-03-10 06:51:34.216952', 1)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Explicabo aut quam nihil sit amet laboriosam accusantium.', '2021-03-10 06:51:34.307632', '2021-03-10 06:51:34.307632', 1)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Laboriosam adipisci error ut sunt.', '2021-03-10 06:51:34.379800', '2021-03-10 06:51:34.379800', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Aspernatur mollitia modi molestiae sint veritatis dolorum ex aliquam.', '2021-03-10 06:51:34.476914', '2021-03-10 06:51:34.476914', 1)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Facere quia est minus repellendus voluptatem sit.', '2021-03-10 06:51:35.110464', '2021-03-10 06:51:35.110464', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.1ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Voluptas quam ut ratione ut enim quasi impedit.', '2021-03-10 06:51:35.641488', '2021-03-10 06:51:35.641488', 1)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Recusandae ut et eos unde dicta dolorem.', '2021-03-10 06:51:36.194813', '2021-03-10 06:51:36.194813', 1)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Atque ut explicabo consequatur modi ut minus aperiam ea.', '2021-03-10 06:51:36.983048', '2021-03-10 06:51:36.983048', 1)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Adipisci explicabo dolores saepe laudantium sint dolore magni.', '2021-03-10 06:51:37.067263', '2021-03-10 06:51:37.067263', 1)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Facilis fugit tenetur ratione ipsum adipisci totam voluptatem.', '2021-03-10 06:51:37.153515', '2021-03-10 06:51:37.153515', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.7ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Libero et harum nam et autem ut.', '2021-03-10 06:51:37.253907', '2021-03-10 06:51:37.253907', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Assumenda consequatur porro quo est nemo voluptate dolores et.', '2021-03-10 06:51:37.341840', '2021-03-10 06:51:37.341840', 1)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Neque totam aliquid sunt a.', '2021-03-10 06:51:37.429692', '2021-03-10 06:51:37.429692', 1)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.9ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Explicabo sint itaque distinctio amet.', '2021-03-10 06:51:37.522330', '2021-03-10 06:51:37.522330', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.2ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Repellat autem ex odit fuga tenetur reiciendis porro.', '2021-03-10 06:51:37.593314', '2021-03-10 06:51:37.593314', 1)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Dolores tempore eius voluptatibus id est magnam delectus.', '2021-03-10 06:51:37.671507', '2021-03-10 06:51:37.671507', 1)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Facere quibusdam qui laboriosam corrupti optio.', '2021-03-10 06:51:37.759035', '2021-03-10 06:51:37.759035', 1)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Et sapiente nobis eum excepturi amet veniam.', '2021-03-10 06:51:37.846919', '2021-03-10 06:51:37.846919', 1)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.8ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Commodi minima vel doloremque consequuntur ipsam nemo ipsa accusantium.', '2021-03-10 06:51:37.935686', '2021-03-10 06:51:37.935686', 1)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  [1m[36mChat Load (0.5ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Quia voluptas rerum ut et non cupiditate ut iure.', '2021-03-10 06:51:38.017424', '2021-03-10 06:51:38.017424', 1)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` ASC LIMIT 1[0m
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
Started POST "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 06:52:20 +0000
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[36mChat Load (0.6ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  ↳ app/models/message.rb:39:in `increment_messages_counter'
  [1m[36mChat Update All (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  ↳ app/models/message.rb:40:in `block in increment_messages_counter'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('3 message', '2021-03-10 06:52:20.676735', '2021-03-10 06:52:20.676735', 1)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:34:in `create'
undefined method `chats_counter' for #<Application:0x00007ff56521f838>
Did you mean?  chats_count
               chats_count?
               chats_count=
               chats_count_was
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:16:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:16:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:34:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 570ms (Views: 1.0ms | ActiveRecord: 10.2ms | Allocations: 26161)


Started POST "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 06:52:59 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  ↳ app/models/message.rb:39:in `increment_messages_counter'
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
  ↳ app/models/message.rb:40:in `block in increment_messages_counter'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('3 message', '2021-03-10 06:52:59.755828', '2021-03-10 06:52:59.755828', 1)[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/messages_controller.rb:30:in `create'
undefined method `message_count' for #<Chat:0x00007ff56461a830>
Did you mean?  messages_count
               messages_count?
               messages_count=
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:16:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:34:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 132ms (Views: 1.0ms | ActiveRecord: 9.1ms | Allocations: 18100)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 06:53:05 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
undefined method `message_count' for #<Chat:0x00007ff56438ca50>
Did you mean?  messages_count
               messages_count?
               messages_count=
/bundle/ruby/2.7.0/gems/activemodel-6.0.3/lib/active_model/attribute_methods.rb:432:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:16:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:22:in `block in prepare_data'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/relation/delegation.rb:87:in `each'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/relation/delegation.rb:87:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:21:in `map'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:21:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:16:in `index'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 33ms (Views: 1.2ms | ActiveRecord: 1.2ms | Allocations: 7143)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 06:53:29 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 5.1ms | Allocations: 17845)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 06:54:11 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 17946)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 06:54:23 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
DEPRECATION WARNING: #search is deprecated and will be removed in 2.3, please use #ransack instead (called from index at /home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:12)
undefined method `chat' for Ransack::Search<class: Message, base: Grouping <combinator: and>>:Ransack::Search
/bundle/ruby/2.7.0/gems/ransack-2.3.2/lib/ransack/search.rb:106:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:12:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:16:in `index'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 2932)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 06:55:20 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
DEPRECATION WARNING: #search is deprecated and will be removed in 2.3, please use #ransack instead (called from index at /home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:12)
undefined method `chat' for Ransack::Search<class: Message, base: Grouping <combinator: and>>:Ransack::Search
/bundle/ruby/2.7.0/gems/ransack-2.3.2/lib/ransack/search.rb:106:in `method_missing'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/association_extractor.rb:12:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:16:in `index'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 2736)


  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 06:56:16 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
undefined method `text' for #<Elasticsearch::Model::Response::Response:0x00007f6c94c59d30>
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `public_send'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/public_send_extractor.rb:5:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/extractors/auto_extractor.rb:14:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/field.rb:13:in `extract'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:46:in `block in object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `each_with_object'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:44:in `object_to_hash'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:27:in `prepare_data'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:258:in `prepare'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/helpers/base_helpers.rb:16:in `prepare_for_render'
/bundle/ruby/2.7.0/gems/blueprinter-0.23.4/lib/blueprinter/base.rb:193:in `render'
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:16:in `index'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 27ms (Views: 0.8ms | ActiveRecord: 2.2ms | Allocations: 10248)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 06:56:57 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"3 message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:56:in `set_chat'
Completed 200 OK in 200ms (Views: 184.4ms | ActiveRecord: 2.4ms | Allocations: 6583)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  [1m[36mApplication Load (0.4ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 1[0m
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '5271246869' LIMIT 1[0m
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (1, '5271246869', '2021-03-10 07:15:14.455485', '2021-03-10 07:15:14.455485')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (14.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (15.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mApplication Load (4.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  [1m[35m (7.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 ORDER BY `chats`.`id` DESC LIMIT 1[0m
Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 07:58:14 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:49:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: c911c7ea-e820-470c-8399-fb939ddae68c) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
Unable to serialize Chat without an id. (Maybe you forgot to call save?)
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:211:in `rescue in convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:208:in `convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:104:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:161:in `block in serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each_with_object'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:116:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `block in serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `map'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:165:in `serialize_arguments'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:153:in `serialize_arguments_if_needed'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:100:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:33:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:59:in `block in enqueue'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:35:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:16:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:55:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:22:in `perform_later'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:25:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 58ms (Views: 2.2ms | ActiveRecord: 2.7ms | Allocations: 13560)


Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 07:58:56 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:50:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: 6c9b9131-6efc-4988-9f10-c4451458f55b) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
[ActiveJob] Enqueued ChatCreationJob (Job ID: 37d35522-c633-4807-9e66-c6f96e64ebd6) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
[ActiveJob] Enqueued ChatCreationJob (Job ID: 3d9b8398-34e6-4a46-a82c-5892aa8d5de4) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
Unable to serialize Chat without an id. (Maybe you forgot to call save?)
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:211:in `rescue in convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:208:in `convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:104:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:161:in `block in serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each_with_object'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:116:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `block in serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `map'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:165:in `serialize_arguments'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:153:in `serialize_arguments_if_needed'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:100:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:33:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:59:in `block in enqueue'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:35:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:16:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:55:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:22:in `perform_later'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:26:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 50369ms (Views: 4.5ms | ActiveRecord: 2.5ms | Allocations: 68492)


Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 08:02:41 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:50:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: 7fa61611-c1a3-44ac-820d-defbf5301af1) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
Unable to serialize Chat without an id. (Maybe you forgot to call save?)
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:211:in `rescue in convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:208:in `convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:104:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:161:in `block in serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each_with_object'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:116:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `block in serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `map'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:165:in `serialize_arguments'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:153:in `serialize_arguments_if_needed'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:100:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:33:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:59:in `block in enqueue'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:35:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:16:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:55:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:22:in `perform_later'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:26:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 38ms (Views: 1.5ms | ActiveRecord: 2.8ms | Allocations: 11929)


Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 08:02:54 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:50:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: 7a3141ee-188a-4512-8e79-cf1eaae7f20d) to Resque(instachat_development_chats) with arguments: {:chat=>#<Chat id: nil, application_id: 1, number: nil, messages_count: 0, created_at: nil, updated_at: nil>}
Unable to serialize Chat without an id. (Maybe you forgot to call save?)
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:211:in `rescue in convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:208:in `convert_to_global_id_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:104:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:161:in `block in serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `each_with_object'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:160:in `serialize_hash'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:116:in `serialize_argument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `block in serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `map'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/arguments.rb:34:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:165:in `serialize_arguments'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:153:in `serialize_arguments_if_needed'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/core.rb:100:in `serialize'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:33:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:59:in `block in enqueue'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:35:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:16:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:15:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:55:in `enqueue'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/enqueuing.rb:22:in `perform_later'
/home/instachat/instachat/app/controllers/api/v1/chats_controller.rb:26:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 28ms (Views: 1.6ms | ActiveRecord: 2.3ms | Allocations: 11891)


  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 ORDER BY `chats`.`id` DESC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 08:06:44 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:47:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: bb73090c-1b01-4074-a353-56f86a058dd0) to Resque(instachat_development_chats) with arguments: {:applicaiton_id=>1}
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 6717)


[ActiveJob] [ChatCreationJob] [bb73090c-1b01-4074-a353-56f86a058dd0] Performing ChatCreationJob (Job ID: bb73090c-1b01-4074-a353-56f86a058dd0) from Resque(instachat_development_chats) enqueued at 2021-03-10T08:06:44Z with arguments: {:applicaiton_id=>1}
[ActiveJob] [ChatCreationJob] [bb73090c-1b01-4074-a353-56f86a058dd0] Error performing ChatCreationJob (Job ID: bb73090c-1b01-4074-a353-56f86a058dd0) from Resque(instachat_development_chats) in 18.79ms: NameError (undefined local variable or method `application_id' for #<ChatCreationJob:0x0000558414cb11d0>
Did you mean?  applicaiton_id):
/home/instachat/instachat/app/jobs/chat_creation_job.rb:5:in `perform'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:40:in `block in perform_now'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:39:in `perform_now'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:25:in `block in execute'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:72:in `block in wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:71:in `wrap'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:23:in `execute'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:47:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/job.rb:168:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:308:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:897:in `block in perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:264:in `work_one_job'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:238:in `block in work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `loop'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/tasks.rb:20:in `block (2 levels) in <main>'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `block in execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:214:in `block in invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `synchronize'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:183:in `invoke'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:160:in `invoke_task'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:125:in `run_with_threads'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:110:in `top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:83:in `block in run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:186:in `standard_exception_handling'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:80:in `run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/exe/rake:27:in `<top (required)>'
/bundle/ruby/2.7.0/bin/rake:23:in `load'
/bundle/ruby/2.7.0/bin/rake:23:in `<top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `kernel_load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:28:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:494:in `exec'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:30:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:24:in `start'
/bundle/gems/bundler-2.2.14/exe/bundle:49:in `block in <top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/friendly_errors.rb:130:in `with_friendly_errors'
/bundle/gems/bundler-2.2.14/exe/bundle:37:in `<top (required)>'
/bundle/bin/bundle:113:in `load'
/bundle/bin/bundle:113:in `<main>'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
  [1m[36mApplication Load (1.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
Started GET "/resque" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:07:29 +0000
Started GET "/resque/poll.png" for 192.168.144.1 at 2021-03-10 08:07:30 +0000
Started GET "/resque/failed" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:07:33 +0000
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:11 +0000
Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 08:08:15 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:47:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: 2eaf3ee9-063e-4119-be48-13dbc2d1e150) to Resque(instachat_development_chats) with arguments: {:applicaiton_id=>1}
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 6079)


Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:08:17 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:18 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:18 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:18 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:18 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:18 +0000
[ActiveJob] [ChatCreationJob] [2eaf3ee9-063e-4119-be48-13dbc2d1e150] Performing ChatCreationJob (Job ID: 2eaf3ee9-063e-4119-be48-13dbc2d1e150) from Resque(instachat_development_chats) enqueued at 2021-03-10T08:08:15Z with arguments: {:applicaiton_id=>1}
[ActiveJob] [ChatCreationJob] [2eaf3ee9-063e-4119-be48-13dbc2d1e150] Error performing ChatCreationJob (Job ID: 2eaf3ee9-063e-4119-be48-13dbc2d1e150) from Resque(instachat_development_chats) in 0.41ms: ArgumentError (missing keyword: :application_id):
/home/instachat/instachat/app/jobs/chat_creation_job.rb:4:in `perform'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:40:in `block in perform_now'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:39:in `perform_now'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:25:in `block in execute'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:72:in `block in wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:71:in `wrap'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:23:in `execute'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:47:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/job.rb:168:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:308:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:897:in `block in perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:264:in `work_one_job'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:238:in `block in work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `loop'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/tasks.rb:20:in `block (2 levels) in <main>'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `block in execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:214:in `block in invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `synchronize'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:183:in `invoke'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:160:in `invoke_task'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:125:in `run_with_threads'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:110:in `top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:83:in `block in run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:186:in `standard_exception_handling'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:80:in `run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/exe/rake:27:in `<top (required)>'
/bundle/ruby/2.7.0/bin/rake:23:in `load'
/bundle/ruby/2.7.0/bin/rake:23:in `<top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `kernel_load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:28:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:494:in `exec'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:30:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:24:in `start'
/bundle/gems/bundler-2.2.14/exe/bundle:49:in `block in <top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/friendly_errors.rb:130:in `with_friendly_errors'
/bundle/gems/bundler-2.2.14/exe/bundle:37:in `<top (required)>'
/bundle/bin/bundle:113:in `load'
/bundle/bin/bundle:113:in `<main>'
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:21 +0000
Started GET "/resque/failed" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
  [1m[35m (1.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:23 +0000
Started POST "/api/v1/applications/2163110743/chats" for 192.168.144.1 at 2021-03-10 08:08:46 +0000
Processing by Api::V1::ChatsController#create as */*
  Parameters: {"params"=>:number, "application_token"=>"2163110743"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`number` = '2163110743' LIMIT 1[0m
  ↳ app/controllers/api/v1/chats_controller.rb:47:in `set_application'
[ActiveJob] Enqueued ChatCreationJob (Job ID: 58ed1013-5db5-472d-aa37-cf77d2c80c65) to Resque(instachat_development_chats) with arguments: {:application_id=>1}
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 6411)


Started GET "/resque/failed" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:49 +0000
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65] Performing ChatCreationJob (Job ID: 58ed1013-5db5-472d-aa37-cf77d2c80c65) from Resque(instachat_development_chats) enqueued at 2021-03-10T08:08:47Z with arguments: {:application_id=>1}
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:5:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:7:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mChat Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:7:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:7:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mApplication Load (0.3ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/models/chat.rb:32:in `increment_chats_counter'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mApplication Update All (3.1ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 1[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/models/chat.rb:33:in `block in increment_chats_counter'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '6226636570' LIMIT 1[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/models/concerns/has_reference.rb:10:in `generate_unique_reference'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[36mChat Create (1.2ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (1, '6226636570', '2021-03-10 08:08:50.153235', '2021-03-10 08:08:50.153235')[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:7:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65]   ↳ app/jobs/chat_creation_job.rb:7:in `perform'
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65] ========= chat below   saved =========
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65] #<Chat:0x0000558415312ec0>
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65] ================================
[ActiveJob] [ChatCreationJob] [58ed1013-5db5-472d-aa37-cf77d2c80c65] Performed ChatCreationJob (Job ID: 58ed1013-5db5-472d-aa37-cf77d2c80c65) from Resque(instachat_development_chats) in 67.03ms
Started GET "/resque/working" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:51 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:53 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:08:54 +0000
  [1m[36mApplication Load (1.1ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `chats` WHERE `chats`.`application_id` = 1[0m
Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:13:43 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
Completed 200 OK in 259ms (Views: 240.4ms | ActiveRecord: 2.7ms | Allocations: 8045)


Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:13:51 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: 5bc8c2b2-2788-4885-832e-e79cdb9ef1c4) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
undefined local variable or method `message' for #<Api::V1::MessagesController:0x0000563700788da8>
/home/instachat/instachat/app/controllers/api/v1/messages_controller.rb:29:in `create'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:195:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:135:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/callbacks.rb:41:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/rescue.rb:22:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/abstract_controller/base.rb:136:in `process'
/bundle/ruby/2.7.0/gems/actionview-6.0.3/lib/action_view/rendering.rb:39:in `process'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:190:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_controller/metal.rb:254:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `each'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/journey/router.rb:32:in `serve'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
/bundle/ruby/2.7.0/gems/bullet-6.1.0/lib/bullet/rack.rb:12:in `call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:36:in `block in call'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `catch'
/bundle/ruby/2.7.0/gems/warden-1.2.8/lib/warden/manager.rb:34:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/migration.rb:567:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:101:in `run_callbacks'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:132:in `call_app'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:28:in `block in call'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `catch'
/bundle/ruby/2.7.0/gems/web-console-4.0.2/lib/web_console/middleware.rb:17:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:37:in `call_app'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `block in call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/rack/logger.rb:26:in `call'
/bundle/ruby/2.7.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/executor.rb:14:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/static.rb:126:in `call'
/bundle/ruby/2.7.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/bundle/ruby/2.7.0/gems/actionpack-6.0.3/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/bundle/ruby/2.7.0/gems/rack-cors-1.1.1/lib/rack/cors.rb:100:in `call'
/bundle/ruby/2.7.0/gems/railties-6.0.3/lib/rails/engine.rb:527:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/configuration.rb:228:in `call'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:713:in `handle_request'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:472:in `process_client'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/server.rb:328:in `block in run'
/bundle/ruby/2.7.0/gems/puma-4.3.5/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 3993ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 163564)


[ActiveJob] [MessageCreationJob] [5bc8c2b2-2788-4885-832e-e79cdb9ef1c4] Performing MessageCreationJob (Job ID: 5bc8c2b2-2788-4885-832e-e79cdb9ef1c4) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:13:51Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [5bc8c2b2-2788-4885-832e-e79cdb9ef1c4] Error performing MessageCreationJob (Job ID: 5bc8c2b2-2788-4885-832e-e79cdb9ef1c4) from Resque(instachat_development_messages) in 17.27ms: NameError (undefined local variable or method `application_id' for #<MessageCreationJob:0x0000558414a19f30>):
/home/instachat/instachat/app/jobs/message_creation_job.rb:5:in `perform'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:40:in `block in perform_now'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:39:in `perform_now'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:25:in `block in execute'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:72:in `block in wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:71:in `wrap'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:23:in `execute'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:47:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/job.rb:168:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:308:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:897:in `block in perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:264:in `work_one_job'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:238:in `block in work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `loop'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/tasks.rb:20:in `block (2 levels) in <main>'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `block in execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:214:in `block in invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `synchronize'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:183:in `invoke'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:160:in `invoke_task'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:125:in `run_with_threads'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:110:in `top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:83:in `block in run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:186:in `standard_exception_handling'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:80:in `run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/exe/rake:27:in `<top (required)>'
/bundle/ruby/2.7.0/bin/rake:23:in `load'
/bundle/ruby/2.7.0/bin/rake:23:in `<top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `kernel_load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:28:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:494:in `exec'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:30:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:24:in `start'
/bundle/gems/bundler-2.2.14/exe/bundle:49:in `block in <top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/friendly_errors.rb:130:in `with_friendly_errors'
/bundle/gems/bundler-2.2.14/exe/bundle:37:in `<top (required)>'
/bundle/bin/bundle:113:in `load'
/bundle/bin/bundle:113:in `<main>'
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:14:12 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: d72c2de0-e61c-4c4d-9772-00762a4141b2) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 6102)


[ActiveJob] [MessageCreationJob] [d72c2de0-e61c-4c4d-9772-00762a4141b2] Performing MessageCreationJob (Job ID: d72c2de0-e61c-4c4d-9772-00762a4141b2) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:14:12Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [d72c2de0-e61c-4c4d-9772-00762a4141b2] Error performing MessageCreationJob (Job ID: d72c2de0-e61c-4c4d-9772-00762a4141b2) from Resque(instachat_development_messages) in 16.59ms: NameError (undefined local variable or method `application_id' for #<MessageCreationJob:0x0000558414a44668>):
/home/instachat/instachat/app/jobs/message_creation_job.rb:5:in `perform'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:40:in `block in perform_now'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:39:in `perform_now'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:25:in `block in execute'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:72:in `block in wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:71:in `wrap'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:23:in `execute'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:47:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/job.rb:168:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:308:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:897:in `block in perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:264:in `work_one_job'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:238:in `block in work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `loop'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/tasks.rb:20:in `block (2 levels) in <main>'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `block in execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:214:in `block in invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `synchronize'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:183:in `invoke'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:160:in `invoke_task'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:125:in `run_with_threads'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:110:in `top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:83:in `block in run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:186:in `standard_exception_handling'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:80:in `run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/exe/rake:27:in `<top (required)>'
/bundle/ruby/2.7.0/bin/rake:23:in `load'
/bundle/ruby/2.7.0/bin/rake:23:in `<top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `kernel_load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:28:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:494:in `exec'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:30:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:24:in `start'
/bundle/gems/bundler-2.2.14/exe/bundle:49:in `block in <top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/friendly_errors.rb:130:in `with_friendly_errors'
/bundle/gems/bundler-2.2.14/exe/bundle:37:in `<top (required)>'
/bundle/bin/bundle:113:in `load'
/bundle/bin/bundle:113:in `<main>'
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:14:25 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/poll.png" for 192.168.144.1 at 2021-03-10 08:14:26 +0000
Started GET "/resque/failed" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:14:30 +0000
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:15:48 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: eb276371-71ca-4f05-976c-278e938897ed) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 6153)


[ActiveJob] [MessageCreationJob] [eb276371-71ca-4f05-976c-278e938897ed] Performing MessageCreationJob (Job ID: eb276371-71ca-4f05-976c-278e938897ed) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:15:48Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [eb276371-71ca-4f05-976c-278e938897ed] Performed MessageCreationJob (Job ID: eb276371-71ca-4f05-976c-278e938897ed) from Resque(instachat_development_messages) in 10.33ms
Started GET "/resque/working" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:15:54 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:15:58 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:16:00 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:16:08 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:16:23 +0000
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:17:11 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: eecf0f50-0b36-4f10-a67a-6253ca97be21) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 6103)


[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21] Performing MessageCreationJob (Job ID: eecf0f50-0b36-4f10-a67a-6253ca97be21) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:17:11Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/jobs/message_creation_job.rb:5:in `perform'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:17:12.199827', '2021-03-10 08:17:12.199827', 1)[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eecf0f50-0b36-4f10-a67a-6253ca97be21] Performed MessageCreationJob (Job ID: eecf0f50-0b36-4f10-a67a-6253ca97be21) from Resque(instachat_development_messages) in 882.59ms
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:17:37 +0000
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:17:40 +0000
  [1m[36mApplication Load (1.1ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:20:41 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: eb36afa9-0b05-4a33-96b0-153dc7511096) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 7796)


Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:20:51 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/resque/queues/instachat_development_messages" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:20:59 +0000
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096] Performing MessageCreationJob (Job ID: eb36afa9-0b05-4a33-96b0-153dc7511096) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:20:41Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/jobs/message_creation_job.rb:5:in `perform'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[36mChat Load (0.9ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[36mChat Update All (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:21:41.311528', '2021-03-10 08:21:41.311528', 1)[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [eb36afa9-0b05-4a33-96b0-153dc7511096] Error performing MessageCreationJob (Job ID: eb36afa9-0b05-4a33-96b0-153dc7511096) from Resque(instachat_development_messages) in 96.42ms: Faraday::ConnectionFailed (Failed to open TCP connection to elastic_search:9200 (Connection refused - connect(2) for "elastic_search" port 9200)):
/usr/local/lib/ruby/2.7.0/net/http.rb:960:in `initialize'
/usr/local/lib/ruby/2.7.0/net/http.rb:960:in `open'
/usr/local/lib/ruby/2.7.0/net/http.rb:960:in `block in connect'
/usr/local/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/usr/local/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/usr/local/lib/ruby/2.7.0/net/http.rb:958:in `connect'
/usr/local/lib/ruby/2.7.0/net/http.rb:943:in `do_start'
/usr/local/lib/ruby/2.7.0/net/http.rb:932:in `start'
/bundle/ruby/2.7.0/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'
/bundle/ruby/2.7.0/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'
/bundle/ruby/2.7.0/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'
/bundle/ruby/2.7.0/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'
/bundle/ruby/2.7.0/gems/faraday-1.3.0/lib/faraday/adapter.rb:60:in `connection'
/bundle/ruby/2.7.0/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'
/bundle/ruby/2.7.0/gems/faraday-1.3.0/lib/faraday/rack_builder.rb:154:in `build_response'
/bundle/ruby/2.7.0/gems/faraday-1.3.0/lib/faraday/connection.rb:492:in `run_request'
/bundle/ruby/2.7.0/gems/elasticsearch-transport-7.11.2/lib/elasticsearch/transport/transport/http/faraday.rb:48:in `block in perform_request'
/bundle/ruby/2.7.0/gems/elasticsearch-transport-7.11.2/lib/elasticsearch/transport/transport/base.rb:288:in `perform_request'
/bundle/ruby/2.7.0/gems/elasticsearch-transport-7.11.2/lib/elasticsearch/transport/transport/http/faraday.rb:37:in `perform_request'
/bundle/ruby/2.7.0/gems/elasticsearch-transport-7.11.2/lib/elasticsearch/transport/client.rb:191:in `perform_request'
/bundle/ruby/2.7.0/gems/elasticsearch-api-7.11.2/lib/elasticsearch/api/actions/index.rb:74:in `index'
/bundle/ruby/2.7.0/gems/elasticsearch-model-7.1.1/lib/elasticsearch/model/indexing.rb:377:in `index_document'
/bundle/ruby/2.7.0/gems/elasticsearch-model-7.1.1/lib/elasticsearch/model/adapters/active_record.rb:82:in `block (2 levels) in included'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:428:in `block in make_lambda'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:263:in `block in conditional'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `block in invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `each'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:517:in `invoke_after'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:136:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:825:in `_run_commit_callbacks'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:339:in `committed!'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:127:in `commit_records'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:265:in `block in commit_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:212:in `transaction'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/transactions.rb:314:in `save'
/bundle/ruby/2.7.0/gems/activerecord-6.0.3/lib/active_record/suppressor.rb:44:in `save'
/home/instachat/instachat/app/jobs/message_creation_job.rb:7:in `perform'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:40:in `block in perform_now'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `block in instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/notifications.rb:180:in `instrument'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `block in tag_logger'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:28:in `tagged'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/tagged_logging.rb:80:in `tagged'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:45:in `tag_logger'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:39:in `perform_now'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:25:in `block in execute'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:72:in `block in wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/execution_wrapper.rb:88:in `wrap'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/reloader.rb:71:in `wrap'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `instance_exec'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/bundle/ruby/2.7.0/gems/activesupport-6.0.3/lib/active_support/callbacks.rb:139:in `run_callbacks'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/execution.rb:23:in `execute'
/bundle/ruby/2.7.0/gems/activejob-6.0.3/lib/active_job/queue_adapters/resque_adapter.rb:47:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/job.rb:168:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:308:in `perform'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:897:in `block in perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:895:in `perform_with_fork'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:264:in `work_one_job'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:238:in `block in work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `loop'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/worker.rb:235:in `work'
/bundle/ruby/2.7.0/gems/resque-2.0.0/lib/resque/tasks.rb:20:in `block (2 levels) in <main>'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `block in execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:273:in `execute'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:214:in `block in invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `synchronize'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:194:in `invoke_with_call_chain'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/task.rb:183:in `invoke'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:160:in `invoke_task'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block (2 levels) in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `each'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:116:in `block in top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:125:in `run_with_threads'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:110:in `top_level'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:83:in `block in run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:186:in `standard_exception_handling'
/bundle/ruby/2.7.0/gems/rake-12.3.3/lib/rake/application.rb:80:in `run'
/bundle/ruby/2.7.0/gems/rake-12.3.3/exe/rake:27:in `<top (required)>'
/bundle/ruby/2.7.0/bin/rake:23:in `load'
/bundle/ruby/2.7.0/bin/rake:23:in `<top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:63:in `kernel_load'
/bundle/gems/bundler-2.2.14/lib/bundler/cli/exec.rb:28:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:494:in `exec'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:30:in `dispatch'
/bundle/gems/bundler-2.2.14/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/bundle/gems/bundler-2.2.14/lib/bundler/cli.rb:24:in `start'
/bundle/gems/bundler-2.2.14/exe/bundle:49:in `block in <top (required)>'
/bundle/gems/bundler-2.2.14/lib/bundler/friendly_errors.rb:130:in `with_friendly_errors'
/bundle/gems/bundler-2.2.14/exe/bundle:37:in `<top (required)>'
/bundle/bin/bundle:113:in `load'
/bundle/bin/bundle:113:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `instachat_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `instachat_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2790289888303976415', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2790289888303976415')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/resque/poll.png" for 192.168.144.1 at 2021-03-10 08:21:52 +0000
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:21:56 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: 8d35bddc-b86e-4211-93df-85e2c9cce6a7) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 7430)


[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7] Performing MessageCreationJob (Job ID: 8d35bddc-b86e-4211-93df-85e2c9cce6a7) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:21:56Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[35m (9.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/jobs/message_creation_job.rb:5:in `perform'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:21:57.500525', '2021-03-10 08:21:57.500525', 1)[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [8d35bddc-b86e-4211-93df-85e2c9cce6a7] Performed MessageCreationJob (Job ID: 8d35bddc-b86e-4211-93df-85e2c9cce6a7) from Resque(instachat_development_messages) in 424.61ms
Started GET "/resque/overview" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
  [1m[35m (3.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/resque/poll.png" for 192.168.144.1 at 2021-03-10 08:22:07 +0000
Started GET "/resque/failed" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started GET "/resque/style.css" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started GET "/resque/reset.css" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started GET "/resque/jquery.relatize_date.js" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started GET "/resque/jquery-1.12.4.min.js" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started GET "/resque/ranger.js" for 192.168.144.1 at 2021-03-10 08:22:18 +0000
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:23:10 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: aacb6413-7b70-4415-b7ca-f49a41aad23b) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1777)


[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b] Performing MessageCreationJob (Job ID: aacb6413-7b70-4415-b7ca-f49a41aad23b) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:23:10Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/jobs/message_creation_job.rb:5:in `perform'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:23:13.354713', '2021-03-10 08:23:13.354713', 1)[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [aacb6413-7b70-4415-b7ca-f49a41aad23b] Performed MessageCreationJob (Job ID: aacb6413-7b70-4415-b7ca-f49a41aad23b) from Resque(instachat_development_messages) in 901.73ms
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:25:34 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: e5f988f0-4afb-4261-980b-59e756c36d27) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 6234)


[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27] Performing MessageCreationJob (Job ID: e5f988f0-4afb-4261-980b-59e756c36d27) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:25:34Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[36mChat Load (0.3ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:25:34.834163', '2021-03-10 08:25:34.834163', 1)[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [e5f988f0-4afb-4261-980b-59e756c36d27] Performed MessageCreationJob (Job ID: e5f988f0-4afb-4261-980b-59e756c36d27) from Resque(instachat_development_messages) in 163.81ms
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:25:48 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: 13183d02-fb01-46a2-86ef-460a3eb34b89) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 6138)


[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89] Performing MessageCreationJob (Job ID: 13183d02-fb01-46a2-86ef-460a3eb34b89) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:25:48Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[36mChat Update All (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:25:50.230281', '2021-03-10 08:25:50.230281', 1)[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89]   ↳ app/jobs/message_creation_job.rb:9:in `perform'
[ActiveJob] [MessageCreationJob] [13183d02-fb01-46a2-86ef-460a3eb34b89] Performed MessageCreationJob (Job ID: 13183d02-fb01-46a2-86ef-460a3eb34b89) from Resque(instachat_development_messages) in 148.21ms
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:26:12 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: cf98f1ac-bc38-49a0-8c13-11a929d0670c) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 6124)


[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c] Performing MessageCreationJob (Job ID: cf98f1ac-bc38-49a0-8c13-11a929d0670c) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:26:13Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[36mChat Update All (0.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:26:15.646294', '2021-03-10 08:26:15.646294', 1)[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [cf98f1ac-bc38-49a0-8c13-11a929d0670c] Performed MessageCreationJob (Job ID: cf98f1ac-bc38-49a0-8c13-11a929d0670c) from Resque(instachat_development_messages) in 153.66ms
Started POST "/api/v1/applications/2163110743/chats/795430374/messages?keyword=possimus" for 192.168.144.1 at 2021-03-10 08:26:21 +0000
Processing by Api::V1::MessagesController#create as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"possimus", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
[ActiveJob] Enqueued MessageCreationJob (Job ID: 019ea930-f240-4090-b61e-45191495e67d) to Resque(instachat_development_messages) with arguments: {:chat_id=>1, :text=><ActionController::Parameters {"text"=>"dasdas message"} permitted: true>}
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 6125)


[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d] Performing MessageCreationJob (Job ID: 019ea930-f240-4090-b61e-45191495e67d) from Resque(instachat_development_messages) enqueued at 2021-03-10T08:26:21Z with arguments: {:chat_id=>1, :text=>{"text"=>"dasdas message"}}
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/jobs/message_creation_job.rb:7:in `perform'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d] ================================
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[36mChat Load (0.4ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1 FOR UPDATE[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/models/message.rb:39:in `increment_messages_counter'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[36mChat Update All (0.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 1[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/models/message.rb:40:in `block in increment_messages_counter'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('{\"text\"=>\"dasdas message\"}', '2021-03-10 08:26:26.031630', '2021-03-10 08:26:26.031630', 1)[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d]   ↳ app/jobs/message_creation_job.rb:10:in `perform'
[ActiveJob] [MessageCreationJob] [019ea930-f240-4090-b61e-45191495e67d] Performed MessageCreationJob (Job ID: 019ea930-f240-4090-b61e-45191495e67d) from Resque(instachat_development_messages) in 127.83ms
Started GET "/api/v1/applications/2163110743/chats/795430374/messages" for 192.168.144.1 at 2021-03-10 08:52:21 +0000
  [1m[35m (14.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (18.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
  [1m[36mMessage Load (10.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:16:in `index'
Completed 200 OK in 225ms (Views: 51.2ms | ActiveRecord: 30.6ms | Allocations: 16277)


Started GET "/api/v1/applications/2163110743/chats/795430374/messages?keyword=dasdas" for 192.168.144.1 at 2021-03-10 08:52:49 +0000
Processing by Api::V1::MessagesController#index as */*
  Parameters: {"message"=>{"text"=>"dasdas message"}, "keyword"=>"dasdas", "params"=>:number, "application_token"=>"2163110743", "chat_id"=>"795430374"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = '795430374' LIMIT 1[0m
  ↳ app/controllers/api/v1/messages_controller.rb:51:in `set_chat'
Completed 200 OK in 205ms (Views: 201.1ms | ActiveRecord: 0.6ms | Allocations: 3207)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApplication Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE `applications`.`number` = '5208669907' LIMIT 1[0m
  [1m[36mApplication Create (6.2ms)[0m  [1m[32mINSERT INTO `applications` (`name`, `number`, `created_at`, `updated_at`) VALUES ('عن', '5208669907', '2021-03-10 08:55:23.094290', '2021-03-10 08:55:23.094290')[0m
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` IS NULL LIMIT 1[0m
  [1m[36mApplication Load (0.9ms)[0m  [1m[37mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 17 LIMIT 1 FOR UPDATE[0m
  [1m[36mApplication Update All (3.9ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = COALESCE(`applications`.`chats_count`, 0) + 1 WHERE `applications`.`id` = 17[0m
  [1m[36mChat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE `chats`.`number` = '9498979095' LIMIT 1[0m
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `number`, `created_at`, `updated_at`) VALUES (17, '9498979095', '2021-03-10 08:55:23.140864', '2021-03-10 08:55:23.140864')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.0ms)[0m  [1m[37mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 19 LIMIT 1 FOR UPDATE[0m
  [1m[36mChat Update All (0.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = COALESCE(`chats`.`messages_count`, 0) + 1 WHERE `chats`.`id` = 19[0m
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`text`, `created_at`, `updated_at`, `chat_id`) VALUES ('Vero quis veritatis voluptatibus quibusdam est.', '2021-03-10 08:55:23.160416', '2021-03-10 08:55:23.160416', 19)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
